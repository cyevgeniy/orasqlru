<!--{
    "Title": "Условное ветвление. If...else...elsif",
    "Links": {
        "Next": {
            "Url": "../plsql_schema/index.html",
            "Title": "Схема БД. Её объекты"
        },
        "Prev": {
            "Url": "../plsql_simpletypes/index.html",
            "Title": "Переменные, константы. Простые типы"
        }
        }
}-->

<div class="doc-head mb-4 container-10">
    <h5 class="heading-micro heading-muted">Основы PL/SQL</h5>
    <h1 class="heading-huge heading-heavy">Условное ветвление. If...else...elsif </h1>
</div>

<div class="doc-toc mt-6 mb-6">
    <nav class="menu menu-underline menu-medium menu-numbered">
        <ul class="menu-list">
        <li class="menu-item"><a href="#if" class="menu-link"><code>if</code></a></li>
        <li class="menu-item"><a href="#ifelse" class="menu-link"><if>If</if>-<if>else</if></a></li>
        <li class="menu-item"><a href="#ifelsif" class="menu-link"><code>if</code>-<code>elsif</code></a></li>
        </ul>
    </nav>
</div>


<p>
Условное ветвление используется тогда, когда нужно выполнить
разные действия в зависимости от условий. Для этого в PL/SQL
используется конструкция <code>if</code>.
</p>

<h2 id="if">If</h2>

<pre>
declare
    l_name varchar2(100) := 'Admin';
begin
    if l_name = 'Admin' then
        dbms_output.put_line('User is Admin');
    end if;
end;
/
</pre>

<p>
В примере выше описан простейший вариант использования
<code>if</code>. Если имя пользователя равно строке "Admin",
мы выводим соответствующее сообщение.
</p>

<p>
В конструкции <code>If</code> может быть несколько условий:
</p>

<pre>
<code>declare
    l_name varchar2(100) := 'Admin';
begin
    if l_name = 'Admin' or l_name = 'TempAdmin' then
        dbms_output.put_line('User is Admin');
    end if;
end;
/</code>
</pre>

<p>
Результат:
</p>

<pre>
User is Admin
</pre>


В случае с логическими переменными, проверять на равенство
true или false не обязательно:

<pre>
<code>declare
    is_admin boolean := true;
begin
    if is_admin then
        dbms_output.put_line('Admin');
    end if;
end;
/</code>
</pre>

<p>
Общий принцип работы конструкции if таков: 
Если условие между идентификаторами if и then принимает
истинное значение, выполняется код, находящийся между
идентификаторами then и end if;
</p>


<h2 id="ifelse">If...else</h2>

<pre>
<code>declare
    l_name varchar2(100) := 'Max';
begin
    if l_name = 'Admin' then
        dbms_output.put_line('User is Admin');
    else
        dbms_output.put_line('User is not Admin');
    end if;
end;
/</code>
</pre>

<p>
Результат:
</p>

<pre>
User is not Admin
</pre>

<p>
Использование конструкции else позволяет выполнять
некий код в том случае, если условие принимает ложное
значение. В примере выше, значение переменной l_name не 
равно строке "Admin", поэтому выполняется код, который находится
между else и end if;
</p>

<h2 id="ifelsif">if...elsif</h2>

<pre>
<code>declare
    l_name varchar2(20) := 'Max';
begin
    if l_name = 'Admin' then
        dbms_output.put_line('Пользователь админ');
    elsif l_name = 'Alex' then
        dbms_output.put_line('Пользователь Alex');
    elsif l_name = 'Kat' then
        dbms_output.put_line('Пользователь Kat');
    else
        dbms_output.put_line('Неизвестный пользователь');
    end if;
end;
/</code>
</pre>

<p>
Вывод на экран:
</p>

<pre>
Неизвестный пользователь
</pre>


<p>
Использование elsif позволяет выполнить еще одну
проверку условия в том случае, если предыдущее условие было
ложным. В самом конце добавлен <code>else</code> - код в этом блоке будет
выполнен только в том случае, когда ни одно из предыдущих
условий в <code>if</code> не было истинным, но он может и отсутствовать.
</p>


