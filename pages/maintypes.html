<!--{
    "Title": "Основные типы данных",
    "Links": {
        "Next": {
            "Url": "../selectstruct/index.html",
            "Title": "Пример SELECT запроса"
        },
        "Prev": {
            "Url": "../tables/index.html",
            "Title": "Таблицы"
        }
        }
}-->

<div class="doc-head mb-4 container-10">
    <h5 class="heading-micro heading-muted">Основы</h5>
    <h1 class="heading-huge heading-heavy">Основные типы данных</h1>
</div>

<div class="doc-toc mt-6 mb-6">
    <nav class="menu menu-underline menu-medium menu-numbered">
        <ul class="menu-list">
        <li class="menu-item"><a href="#varchar2" class="menu-link">Varchar2</a></li>
        <li class="menu-item"><a href="#number" class="menu-link">Number</a></li>
        <li class="menu-item"><a href="#date" class="menu-link">Date</a></li>
        <li class="menu-item"><a href="#boolean" class="menu-link">Boolean</a></li>
        </ul>
    </nav>
</div>


<p>
Таблицы могут содержать не только строки.
Рассмотрим основные типы данных в БД Oracle.
</p>

<h2 id="varchar2">Varchar2</h2>

<p>
Строковый тип. При создании таблицы всегда нужно указывать размер строки.
Размер может указываться в байтах либо в символах.
По-умолчанию максимальный размер строки равен 4000 байт, либо 4000 символов.
Этот размер может быть изменен дополнительной настройкой БД.
</p>


<pre>
country(100);-- строка из 100 байт
country(100 char); -- строка из 100 символов
</pre>


<h2 id="Number">Number</h2>

<p>
Числовой тип данных. Используется для хранения как целых чисел, так и дробных чисел.
Тип Number может хранить положительные или отрицательные числа, размер которых ограничен 38 цифрами.
Размер числового типа можно ограничивать:
</p>


<pre>
age number(3); -- максимальное число = 999; минимальное= -999
price number(5,3);  -- максимальное число = 99.999; минимальное= -99,999
must_print number(1); -- максимальное число = 9; минимальное= -9
rounded_price number(5, -2); -- Число, округленное до 2-символа влево, начиная от разделителя дроби
</pre>


<p>
Рассмотрим последний пример: <code>rounded_price number(5, -2)</code>.
Значение -2 здесь означает, что любое дробное число, которое будет
записываться в эту колонку, будет округлено, включая две предшествующих
резделителю дроби цифры. Ниже показаны примеры входных чисел и числа,
в которые они будут преобразованы при сохранении их в колонке <code>rounded_price</code>:
</p>


<pre>
Входное число | Выходное число
3245.3        |   3200
12.345        |   0
</pre>


<h2 id="date">Date</h2>

<p>
Тип Date предназначен для хранения даты и времени. Данный тип данных хранить в себе следующую информацию:
</p>

<ul>
<li>Год</li>
<li>Месяц</li>
<li>День(Число)</li>
<li>Часы</li>
<li>Минуты</li>
<li>Секунды</li>
</ul>

<p>
Не всегда бизнес-логика приложения требует хранения даты вплоть
до секунды или до дня - иногда нас может интересовать лишь
конкретный месяц в году, или только год.
В таких случаях незначимая информация как правило устанавливается
в некое начальное значение, например:
</p>

<pre>
|Что нам нужно хранить      |Что мы сохраняем в БД
----------------------------+----------------------
| Дату вплоть до числа      | 20.05.2019
| Определенный месяц в году | 01.10.2019
| Время, до минут           | 01.01.1900 20:48
</pre>

<p>
Во втором случае нас интересует только месяц и год, но мы не можем игнорировать
число, поэтому мы сами решили использовать в качестве дня первый день месяца.
Здесь могло быть и 3, и 30, и 20 число месяца. Просто при работе с такими
колонками следует знать, для чего они используются и использовать только ту
часть даты, которая должна использоваться согласно бизнес-логике.
</p>

<p>
В третьем случае дата как таковая нас вообще не интересует - нам
важно знать только время, поэтому год, месяц и число можно выбрать любые.
Конечно, чтобы использовать только время, нужно будет производить определенные манипуляции
со значением такого столбца(например отделение значения часов и/или
минут, приведение числа, месяца и года к определенным значениям, и т.п.).
Также, если известно, что придется работать только определенной частью даты,
можно использовать тип number. Как пример - колонка <code>release_year</code>,
которая хранит в себе год выпуска определенной модели авто.
Здесь месяц, число и время скорее всего не понадобятся совсем.
</p>

<h2 id="boolean">Boolean</h2>

<p>
Логического типа данных в БД Oracle нет. Но вместо него
можно использовать уже знакомые типы <code>number<code> или </code>varchar2</code>:
</p>

<pre>
create table questions(
    is_right_n number(1), --<1>
    is_right_c varchar2(1) --<2>
);
</pre>

<p>
<1> -  значение, равное 1 трактуем как истину, иначе - ложь(или наоборот)
<2> значение, равное символу 'Y' - истинно, 'N' - ложно
</p>
