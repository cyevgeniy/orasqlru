<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DML. Изменение данных и структуры БД on Учебник Oracle SQL, PL/SQL</title><link>https://orasql.ru/sql/dml/</link><description>Recent content in DML. Изменение данных и структуры БД on Учебник Oracle SQL, PL/SQL</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://orasql.ru/sql/dml/index.xml" rel="self" type="application/rss+xml"/><item><title>Оператор INSERT</title><link>https://orasql.ru/sql/dml/dmlinsert/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://orasql.ru/sql/dml/dmlinsert/</guid><description>Как уже говорилось ранее, INSERT предназначен для вставки данных в таблицу. Существует несколько вариантов его использования.
Вставка с указанием колонок В таком варианте после указания таблицы в скобках перечисляются колонки, в которые будут записываться указываемые данные.
insert into employees(id, name, age) values(1, 'John', 35) Данный способ является предпочтительным, т.к. он более информативен - сразу видно, что за данные вставляются в таблицу.
Также, при использовании такого способа, можно изменять порядок перечисления данных для строки:</description></item><item><title>Изменение данных. UPDATE</title><link>https://orasql.ru/sql/dml/dmlupdate/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://orasql.ru/sql/dml/dmlupdate/</guid><description>Данный оператор изменяет уже существующие данные в таблице.
Общий синтаксис выглядит следующим образом:
UPDATE table_1 t SET t.column_1 = val_1, t.columm_2 = val_2 WHERE При обновлении можно ссылаться на текущие значения в таблице. Например, увеличим возраст всех сотрудников на 1 год:
update employees emp set emp.age = emp.age + 1 Можно добавлять любые условия в where, как и в select- запросах, чтобы обновить не все строки в таблице, а только те, которые удовлетворяют определенным условиям.</description></item><item><title>Удаление данных. DELETE</title><link>https://orasql.ru/sql/dml/dmldelete/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://orasql.ru/sql/dml/dmldelete/</guid><description>Данный оператор предназначен для удаления строк из таблицы.
В самом простом варианте он используется для удаления всех данных из таблицы:
-- Удалить все данные из таблицы employees delete from employees Для удаления строк, попадающих под определенный критерий, как и в случае с оператором UPDATE, прописываем эти условия в WHERE части:
-- Удалить данные по сотруднику с id = 20 delete from employees emp where emp.id = 20; -- Удалить данные по сотрудникам старше 70 лет delete from employees emp where emp.</description></item><item><title>Слияние данных. MERGE</title><link>https://orasql.ru/sql/dml/dmlmerge/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://orasql.ru/sql/dml/dmlmerge/</guid><description>Команда MERGE позволяет выбрать строки из одного источника и использовать их для обновления, вставки или удаления строк в таблице.
Вся прелесть данной команды в том, что в некоторых она позволяет сделать все эти операции в одном выражении SQL.
Подготовка данных Будем использовать следующие таблицы:
create table employees( id number not null, emp_name varchar2(200 char) not null, department varchar2(100 char) not null, position varchar2(100 char) not null ); create table ted_speakers( emp_id number not null, room varchar2(30 char), conf_date date not null ); insert into employees values(1, 'Иван Иванов', 'SALARY', 'MANAGER'); insert into employees values(2, 'Елена Петрова', 'SALARY', 'CLERK'); insert into employees values(3, 'Алексей Сидоров', 'IT', 'DEVELOPER'); insert into employees values(4, 'Михаил Иванов', 'IT', 'DEVELOPER'); insert into employees values(5, 'Владимир Петров', 'IT', 'QA'); insert into ted_speakers values(1, '201b', to_date('2020.</description></item><item><title>Изменение структуры таблицы. ALTER TABLE</title><link>https://orasql.ru/sql/dml/dmlaltertable/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://orasql.ru/sql/dml/dmlaltertable/</guid><description>Уже созданные таблицы можно изменять. Для этого используется команда SQL ALTER. Данная команда относится к группе DDL.
Подготовка данных Тестировать будем на таблице employees. Изначально она будет состоять только из одной колонки id:
create table employees( id number not null primary key ); insert into employees(id) values(1); insert into employees(id) values(2); insert into employees(id) values(3); insert into employees(id) values(4); Добавление колонки в таблицу Добавим в таблицу сотрудников колонку для хранения дня рождения:</description></item></channel></rss>